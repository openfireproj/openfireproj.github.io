<html>
	<body>
    <h1>Open FI/RE</h1>
    
		<form>
      <legend>Compound Interest</legend>
			<label>Principal</label><input name="principal" />
			<label>Rate</label><input name="rate" />
      <label>Periods</label><input name="intervals" />
      <label>Deposits</label><input name="deposits" />
      <label>Maturity</label><input name="maturity" />
      <script src="./openfire/compound.js" ></script>
		</form>
	</body>
	<script>
		var values = document.cookie.split(":");
		var p = parseFloat(values[0]);
		var r = parseFloat(values[1]);
    var interval = parseFloat(values[2]);
		var d = parseFloat(values[3]);
    console.log('loading');
    console.log(p);
    console.log(r);
    console.log(interval);
    console.log(d);

		document.getElementsByName("principal")[0].value = p;
		document.getElementsByName("rate")[0].value = r;
    document.getElementsByName("intervals")[0].value = interval;
		document.getElementsByName("deposits")[0].value = d;

		function saveValues() {
			var P = parseFloat(document.getElementsByName("principal")[0].value); 
		  var r = parseFloat(document.getElementsByName("rate")[0].value);
		  var intervals = parseFloat(document.getElementsByName("intervals")[0].value);
		  var d = parseFloat(document.getElementsByName("deposits")[0].value);

			document.cookie = document.getElementsByName("principal")[0].value +
				":" + document.getElementsByName("rate")[0].value +
				":" + document.getElementsByName("intervals")[0].value +
				":" + document.getElementsByName("deposits")[0].value;

      document.getElementsByName("maturity")[0].value = nut(P, r, intervals, d);
		}

		document.getElementsByName("principal")[0].onchange = saveValues;
		document.getElementsByName("rate")[0].onchange = saveValues;
		document.getElementsByName("intervals")[0].onchange = saveValues;
		document.getElementsByName("deposits")[0].onchange = saveValues;

	</script>
</html>
